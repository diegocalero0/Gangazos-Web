{"version":3,"sources":["components/login/Login.js","components/navBar/NavBar.js","components/modal/Modal.js","components/cupones/Cupones.js","components/cupon/Cupon.js","components/modal/ModalAddCity.js","components/ciudades/Ciudades.js","components/modal/ModalAddShop.js","components/modal/ModalAddBranch.js","components/tiendas/Tiendas.js","components/modal/ModalAddCategory.js","components/modal/ModalAddSubCategory.js","components/categorias/Categorias.js","App.js","serviceWorker.js","index.js","resources/name.png"],"names":["firebase","length","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","email","password","isError","error","auth","check","_this2","onAuthStateChanged","user","setState","_this3","signInWithEmailAndPassword","then","catch","code","errorMessage","message","_this4","react_default","a","createElement","react_router","to","pathname","className","class","role","src","name","style","width","for","type","id","aria-describedby","placeholder","onChange","event","target","value","onClick","login","Component","NavBar","redirect","href","data-toggle","data-target","aria-controls","aria-expanded","aria-label","logOut","db","Modal","coupon","nombre","descripcion","ciudad","sucursal","inicio","fin","destacado","obtenido","categoria","subcategoria","fecharegistro","Date","coordenadas","selectedCity","selectedShop","cities","shops","branches","categories","subcategories","collection","orderBy","onSnapshot","querySnapshot","forEach","doc","category","data","push","subcategory","city","shop","tienda","where","direccion","branch","err","file","imagen","idcategoria","alert","JSON","stringify","trim","idSucursal","_this5","get","_this6","tabindex","aria-labelledby","aria-hidden","data-dismiss","e","uploadFile","files","loadSucursal","map","index","nativeEvent","selectedIndex","text","setCoordenadas","loadSubCategories","entry_default","validar","addCoupon","storage","Cupones","signOut","dismiss","showModal","ref","child","put","on","snapshot","getDownloadURL","url","set","citySelected","disponibility","shopSelected","branchSelected","coupons","seconds","filterAllShops","components_navBar_NavBar","aria-haspopup","filter","components_modal_Modal","scope","lib_default","size","toDateString","Cupon","addCity","Ciudades","add","ModalAddCity","ModalAddShop","addShop","ModalAddBranch","latitude","longitude","addBranch","Tiendas","loadBranches","parseFloat","newBranch","shopSelectedName","citySelectedName","GeoPoint","modal_ModalAddShop","marginLeft","modal_ModalAddBranch","addCategory","ModalAddSubCategory","addSubCategory","Categorias","categorySelected","subCategories","subCategory","ModalAddCategory","modal_ModalAddSubCategory","App","react_router_dom","path","exact","component","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.7df8aa50.chunk.js","sourcesContent":["import React, {Component} from 'react'\n\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './Login.css'\n\nimport name from '../../resources/name.png'\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\nclass Login extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            email: \"\",\n            password: \"\",\n            isError: false,\n            error: \"\",\n            auth: false,\n            check: false\n        }\n    }\n\n    componentWillMount(){\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.setState({auth: true}, () => {\n                    this.setState({check: true})\n                })\n            }else{\n                this.setState({auth: false}, () => {\n                    this.setState({check: true})\n                })\n            }\n          });\n    }\n\n    login(){\n        firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then(() => {\n            this.setState({auth: true})\n        }).catch((error) => {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            this.setState({isError: true, error: errorMessage})\n        });\n    }\n\n    render(){\n        if(!this.state.check)\n            return <div className = \"container\"/>\n        if(this.state.auth)\n            return <Redirect to = {{pathname: \"/cupones\"}}/>\n        return(\n            <div className = \"container d-flex justify-content-center vertical-center flex-column\">\n\n                {\n                    this.state.isError ? \n                    <div class=\"alert alert-danger\" role=\"alert\">\n                        {this.state.error}\n                    </div>\n                    : null\n                }\n\n                <img src = {name} className = \"name\"/>\n                <div className=\"card shadow\" style={{width: '18rem'}}>\n                    <div className=\"card-body\">\n\n                        <form>\n                            <div className=\"form-group\">\n                                <label for=\"exampleInputEmail1\">Correo electrónico</label>\n                                <input type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Correo\"\n                                onChange = {(event) => {\n                                    this.setState({email: event.target.value})\n                                }}/>\n                            </div>\n                            <div className=\"form-group\">\n                                <label for=\"exampleInputPassword1\">Contraseña</label>\n                                <input type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Contraseña\"\n                                onChange = {(event) => {\n                                    this.setState({password: event.target.value})\n                                }}/>\n                            </div>\n                        </form>    \n                    \n                        <button type=\"submit\" className=\"btn btn-primary btn-block btn-login\"\n                            onClick = {() => {\n                                this.login()\n                            }}>Iniciar sesión</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Login;","import React, {Component} from 'react'\nimport './NavBar.css'\n\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nclass NavBar extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            redirect: false,\n            to: ''\n        }\n\n    }\n\n    render(){\n\n        if(this.state.redirect){\n            if(this.state.to != this.props.to)\n                return <Redirect to = {{pathname: this.state.to}}/>\n        }\n\n        return(\n            <div>\n                <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark navBarSelf\">\n                    <a className=\"navbar-brand\" href=\"#\">Gangazos</a>\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                    </button>\n\n                    <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                        <ul className=\"navbar-nav mr-auto\">\n                            <li className=\"nav-item active\">\n                                <a className=\"nav-link\" href=\"\" onClick = {() => {\n                                    this.setState({redirect: true, to: '/cupones'})\n                                }}>Cupones <span className=\"sr-only\">(current)</span></a>\n                            </li>\n                            <li className=\"nav-item active\">\n                                <a className=\"nav-link\" href=\"\" onClick = {() => {\n                                    this.setState({redirect: true, to: '/ciudades'})\n                                }}>Ciudades <span className=\"sr-only\">(current)</span></a>\n                            </li>\n                            <li className=\"nav-item active\">\n                                <a className=\"nav-link\" href=\"\" onClick = {() => {\n                                    this.setState({redirect: true, to: '/tiendas'})\n                                }}>Tiendas <span className=\"sr-only\">(current)</span></a>\n                            </li>\n                            <li className=\"nav-item active\">\n                                <a className=\"nav-link\" href=\"\" onClick = {() => {\n                                    this.setState({redirect: true, to: '/categorias'})\n                                }}>Categorias <span className=\"sr-only\">(current)</span></a>\n                            </li>\n                        </ul>\n                        <button className=\"btn btn-light my-2 my-sm-0\"\n                        onClick = {() => {\n                            this.props.logOut();\n                        }}>Cerrar sesión</button>                      \n                    </div>\n                </nav>\n            </div>\n        )\n    }\n}\n\nexport default NavBar;","import React, {Component} from 'react'\n\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './Modal.css'\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\nimport DateTimePicker from 'react-datetime-picker'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\nclass Modal extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            coupon: {\n                nombre: '',\n                descripcion: '',\n                ciudad: '',\n                sucursal: '',\n                inicio: null,\n                fin: null,\n                destacado: true,\n                obtenido: 0,\n                categoria: '',\n                subcategoria: '',\n                fecharegistro: new Date(),\n                coordenadas: null\n            },\n            selectedCity: '',\n            selectedShop: '',\n            cities: [],\n            shops: [],\n            branches: [],\n            categories: [],\n            subcategories: []\n        }\n    }\n\n    componentWillMount(){\n\n        let coupon = this.state.coupon;\n\n        db.collection('categorias').orderBy('nombre').onSnapshot((querySnapshot) => {\n            let categories = []\n            querySnapshot.forEach((doc) => {\n                let category = doc.data()\n                category.id = doc.id;\n                categories.push(category)\n            });\n            this.setState({categories: categories}, () => {\n                coupon.categoria = categories[0].nombre;\n                db.collection('categorias').doc(categories[0].id).collection('subcategorias').orderBy('nombre').onSnapshot((querySnapshot) => {\n                    let subcategories = []\n                    querySnapshot.forEach((doc) => {\n                        let subcategory = doc.data()\n                        subcategory.id = doc.id;\n                        subcategories.push(subcategory)\n                    });\n                    if(subcategories.length)\n                        coupon.subcategoria = subcategories[0].nombre;\n                    this.setState({subcategories: subcategories}, () => {\n                        db.collection('ciudades').orderBy('nombre').onSnapshot((querySnapshot) => {\n                            var cities = [];\n                            querySnapshot.forEach((doc) => {\n                                let city = doc.data()\n                                city.id = doc.id;\n                                cities.push(city)\n                            });\n                \n                            if(cities.length){\n                                coupon.ciudad = cities[0].nombre;\n                                this.setState({cities, selectedCity: cities[0].nombre})\n                            }\n                            \n                \n                            db.collection('tiendas').onSnapshot((querySnapshot) => {\n                                var shops = [];\n                                querySnapshot.forEach((doc) => {\n                                    let shop = doc.data();\n                                    shop.id = doc.id;\n                                    shops.push(shop);\n                                });\n                    \n                                coupon.tienda = shops[0].nombre\n                                this.setState({shops, selectedShop: shops[0].nombre})\n                \n                                if(!cities.length)\n                                    return;\n\n                                db.collection('tiendas').doc(shops[0].id).collection('sucursales').where('ciudad', '==', cities[0].nombre).onSnapshot((querySnapshot) => {\n                                    var branches = [{direccion: 'Todas las sucursales'}];\n                                    querySnapshot.forEach((doc) => {\n                                        let branch = doc.data();\n                                        branch.id = doc.id;\n                                        branches.push(branch);\n                                    });\n                                    \n                                    coupon.sucursal = 'Todas las sucursales'\n                                    this.setState({branches, coupon})\n                                }, err => {\n                                    this.setState({isError: true, error: err})\n                                })\n                \n                            }, err => {\n                                this.setState({isError: true, error: err})\n                            })\n                        }, err => {\n                            this.setState({isError: true, error: err})\n                        })\n                    })\n                })\n            })\n        })\n    }\n\n    loadSucursal(city, shop){\n        db.collection('tiendas').doc(shop).collection('sucursales').where('ciudad', '==', city).onSnapshot((querySnapshot) => {\n            var branches = [{direccion: 'Todas las sucursales'}];\n            querySnapshot.forEach((doc) => {\n                let branch = doc.data();\n                branch.id = doc.id\n                branches.push(branch);\n            });\n\n            this.setState({branches})\n        }, err => {\n            this.setState({isError: true, error: err})\n        })\n    }\n\n    uploadFile(file){\n        let coupon = this.state.coupon;\n        coupon.imagen = file\n        this.setState({coupon})\n    }\n\n    loadSubCategories(idcategoria){\n\n        let coupon = this.state.coupon;\n\n        db.collection('categorias').doc(idcategoria).collection('subcategorias').orderBy('nombre').onSnapshot((querySnapshot) => {\n            let subcategories = []\n            querySnapshot.forEach((doc) => {\n                let subcategory = doc.data()\n                subcategory.id = doc.id;\n                subcategories.push(subcategory)\n            });\n            if(subcategories.length)\n                coupon.subcategoria = subcategories[0].nombre;\n\n            this.setState({subcategories: subcategories, coupon})\n        })\n    }\n\n    validar(){\n        let coupon = this.state.coupon;\n\n        alert(JSON.stringify(coupon))\n\n        if(coupon.categoria.trim() == ''\n        || coupon.ciudad.trim() == ''\n        || coupon.descripcion.trim() == ''\n        || coupon.nombre.trim() == ''\n        || coupon.inicio == null\n        || coupon.fin == null\n        || coupon.subcategoria.trim() == ''\n        || coupon.sucursal.trim() == ''){\n            return false;\n        }\n            \n        \n\n        return true;\n    }\n\n    setCoordenadas(idSucursal){\n        db.collection('tiendas').doc(this.state.selectedShop).collection('sucursales')\n        .doc(idSucursal).get().then(querySnapshot => {\n            let coupon = this.state.coupon\n            coupon.coordenadas = querySnapshot.data().coordenadas\n            this.setState(coupon)\n        })\n    }\n\n    render(){\n        return(\n          \n         \n            \n            <div className=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\" role=\"document\">\n                <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Agregar cupón</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div className=\"modal-body\">\n                        <form>\n                            <div className=\"form-group\">\n                                <label for=\"exampleInputEmail1\">Nombre</label>\n                                <input type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Nombre de la promoción\"\n                                onChange = {(event) => {\n                                    let coupon = this.state.coupon;\n                                    coupon.nombre = event.target.value;\n                                    this.setState({coupon})\n                                }}/>\n                            </div>\n                            <div className=\"form-group\">\n                                <label for=\"exampleInputPassword1\">Descripcion</label>\n                                <input type=\"text\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Descripción\"\n                                onChange = {(event) => {\n                                    let coupon = this.state.coupon;\n                                    coupon.descripcion = event.target.value;\n                                    this.setState({coupon})\n                                }}/>\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label for=\"imagen\">Imagen de portada</label>\n                                <input type=\"file\" class=\"form-control-file\" id=\"imagen\"\n                                onChange={ (e) => this.uploadFile(e.target.files[0]) }/>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label for=\"destacado\">Destacado</label>\n                                <select className=\"form-control\" id=\"destacado\"\n                                onChange = {(event) => {\n\n                                    let coupon = this.state.coupon;\n                                    coupon.destacado = event.target.value == 'Si' ? true : false;\n                                    this.setState({coupon})\n                                }}>\n                                <option>Si</option>\n                                <option>No</option>\n                                </select>\n                            </div>\n\n\n                            <div className=\"form-group\">\n                                <label for=\"exampleFormControlSelect1\">Ciudad</label>\n                                <select className=\"form-control\" id=\"exampleFormControlSelect1\"\n                                onChange = {(event) => {\n\n                                    let coupon = this.state.coupon;\n                                    coupon.ciudad = event.target.value;\n                                    this.setState({coupon})\n\n                                    this.setState({selectedCity: event.target.value}, () => {\n                                        this.loadSucursal(this.state.selectedCity, this.state.selectedShop)\n                                    })\n                    \n                                }}>\n                                {this.state.cities.map((city) => {\n                                    return(\n                                        <option>{city.nombre}</option>\n                                    )\n                                })}\n                                </select>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label for=\"exampleFormControlSelect1\">Tienda</label>\n                                <select onChange = {(event) => {\n                                    \n                                    let index = event.nativeEvent.target.selectedIndex;\n\n                                    let coupon = this.state.coupon;\n                                    coupon.tienda = event.nativeEvent.target[index].text;\n                                    this.setState({coupon})\n\n                                    this.setState({selectedShop: event.target.value}, () => {\n                                        this.loadSucursal(this.state.selectedCity, this.state.selectedShop)\n                                    })\n                                    \n                                }} className=\"form-control\" id=\"exampleFormControlSelect1\">\n                                {this.state.shops.map((shop) => {\n                                    return(\n                                        <option id ={shop.nombre} value = {shop.id}>{shop.nombre}</option>\n                                    )\n                                })}\n                                </select>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label for=\"exampleFormControlSelect1\">Sucursal</label>\n                                <select onChange = {(event) => {\n                                    let index = event.nativeEvent.target.selectedIndex;\n                                    let coupon = this.state.coupon;\n                                    coupon.sucursal = event.nativeEvent.target[index].text;\n                                    \n                                    this.setCoordenadas(event.target.value);\n\n                                    this.setState({coupon})\n                                    \n                                }} className=\"form-control\" id=\"exampleFormControlSelect1\">\n                                {this.state.branches.map((branch) => {\n                                    return(\n                                        <option value = {branch.id}>{branch.direccion}</option>\n                                    )\n                                })}\n                                </select>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label for=\"category\">Categoría</label>\n                                <select onChange = {(event) => {\n                                    let index = event.nativeEvent.target.selectedIndex;\n                                    let coupon = this.state.coupon;\n                                    coupon.categoria = event.nativeEvent.target[index].text;\n                                    this.setState({coupon})\n                                    this.loadSubCategories(event.target.value)\n                                }} className=\"form-control\" id=\"category\">\n                                {this.state.categories.map((category) => {\n                                    return(\n                                        <option value = {category.id}>{category.nombre}</option>\n                                    )\n                                })}\n                                </select>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label for=\"subcategory\">Subcategoría</label>\n                                <select onChange = {(event) => {\n                                    let coupon = this.state.coupon;\n                                    coupon.subcategoria = event.target.value;\n                                    this.setState({coupon})\n                                }} className=\"form-control\" id=\"subcategory\">\n                                {this.state.subcategories.map((subcategory) => {\n                                    return(\n                                        <option>{subcategory.nombre}</option>\n                                    )\n                                })}\n                                </select>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label className = \"mr-2\" for=\"\">Fecha inicio</label>\n                                    <DateTimePicker\n                                    onChange={(value) => {\n                                        let coupon = this.state.coupon;\n                                        coupon.inicio = value;\n                                        this.setState({coupon})\n                                    }}\n                                    value={this.state.coupon.inicio}\n                                />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label className = \"mr-2\" for=\"\">Fecha fin</label>\n                                    <DateTimePicker\n                                    onChange={(value) => {\n                                        let coupon = this.state.coupon;\n                                        coupon.fin = value;\n                                        this.setState({coupon})\n                                    }}\n                                    value={this.state.coupon.fin}\n                                />\n                            </div>\n                        </form>   \n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\n                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick = {() => {\n                        if(this.validar()){\n                            let coupon = this.state.coupon\n                            coupon.fecharegistro = new Date();\n                            this.props.addCoupon(coupon, 0);\n                        }else{\n                            this.props.addCoupon(this.state.coupon, 1);\n                        }\n                    }}>Agregar cupón</button>\n                </div>\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default Modal;","import React, {Component} from 'react'\n\nimport './Cupones.css'\nimport NavBar from '../navBar/NavBar'\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap';\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\n\nimport Modal from '../modal/Modal'\n\nimport QRCode from 'qrcode.react';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\nconst storage = firebase.storage();\n\nclass Cupones extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            isError: false,\n            error: '',\n            auth: false,\n            check: false,\n            cities: [],\n            citySelected: '',\n            disponibility: 'Todos',\n            shops: [],\n            shopSelected: '',\n            branches: [],\n            branchSelected: '',\n            coupons: [],\n            showModal: false\n        }\n\n    }\n\n    componentWillMount(){\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.setState({auth: true}, () => {\n                    this.setState({check: true})\n                })\n            }else{\n                this.setState({auth: false}, () => {\n                    this.setState({check: true})\n                })\n            }\n        });\n\n        db.collection('ciudades').orderBy('nombre').onSnapshot((querySnapshot) => {\n            var cities = [];\n            querySnapshot.forEach((doc) => {\n                cities.push(doc.data());\n            });\n\n            this.setState({cities})\n            if(cities.length)\n                this.setState({citySelected: cities[0].nombre})\n\n            db.collection('tiendas').onSnapshot((querySnapshot) => {\n                var shops = [{nombre: 'Todas las tiendas'}];\n                querySnapshot.forEach((doc) => {\n                    shops.push(doc.data());\n                });\n    \n                this.setState({shops, shopSelected: shops[0].nombre})\n            }, err => {\n                this.setState({isError: true, error: err})\n            })\n\n            if(!cities.length)\n                return;\n        \n\n            db.collection('cupones').where('ciudad', '==', cities[0].nombre).onSnapshot((querySnapshot) => {\n                var coupons = [];\n                querySnapshot.forEach((doc) => {\n\n                    let coupon = doc.data();\n                    coupon.id = doc.id\n                    coupons.push(coupon);\n                });\n    \n                this.setState({coupons})\n    \n            }, err => {\n                this.setState({isError: true, error: err})\n            })\n\n        }, err => {\n            this.setState({isError: true, error: err})\n        })\n    }\n\n    filterAllShops(){\n        db.collection('cupones').where('ciudad', '==', this.state.citySelected).get()\n        .then((querySnapshot) => {\n            var coupons = [];\n            querySnapshot.forEach((doc) => {\n\n                let coupon = doc.data();\n                coupon.id = doc.id\n\n                if(this.state.disponibility == 'Disponibles'){\n                    let inicio = new Date(coupon.inicio.seconds * 1000);\n                    let fin = new Date(coupon.fin.seconds * 1000);\n\n                    if(new Date() >= inicio && new Date() <= fin){\n                        coupons.push(coupon);\n                    }\n\n                }else if(this.state.disponibility == 'No disponibles'){\n                    let inicio = new Date(coupon.inicio.seconds * 1000);\n                    let fin = new Date(coupon.fin.seconds * 1000);\n\n                    if(new Date() < inicio || new Date() > fin){\n                        coupons.push(coupon);\n                    } \n                }else{\n                    coupons.push(coupon);\n                }\n            });\n            this.setState({coupons})\n        })\n    }\n\n    filter(){\n\n        if(this.state.shopSelected == 'Todas las tiendas'){\n            this.filterAllShops();\n            return;\n        }\n\n        db.collection('cupones').where('tienda', '==', this.state.shopSelected).where('ciudad', '==', this.state.citySelected).get()\n        .then((querySnapshot) => {\n            var coupons = [];\n            querySnapshot.forEach((doc) => {\n\n                let coupon = doc.data();\n                coupon.id = doc.id\n\n                if(this.state.disponibility == 'Disponibles'){\n                    let inicio = new Date(coupon.inicio.seconds * 1000);\n                    let fin = new Date(coupon.fin.seconds * 1000);\n\n                    if(new Date() >= inicio && new Date() <= fin){\n                        coupons.push(coupon);\n                    }\n\n                }else if(this.state.disponibility == 'No disponibles'){\n                    let inicio = new Date(coupon.inicio.seconds * 1000);\n                    let fin = new Date(coupon.fin.seconds * 1000);\n\n                    if(new Date() < inicio || new Date() > fin){\n                        coupons.push(coupon);\n                    } \n                }else{\n                    coupons.push(coupon);\n                }\n            });\n            this.setState({coupons})\n        })\n    }\n\n    logOut = () => {\n        firebase.auth().signOut().then(() => {\n          }).catch(function(error) {\n            \n          });\n    }\n\n    dismiss = () => {\n        alert('here')\n        this.setState({showModal: !this.state.showModal})\n    }\n\n    addCoupon = (coupon, err) => {\n\n        if(err){\n            this.setState({isError: true, error: 'Faltan datos en el cupón, vuelva a intentarlo'})\n            return\n        }\n\n        let doc = db.collection('cupones').doc()\n\n        let file = coupon.imagen\n        let storageRef = storage.ref();\n\n        let ref = storageRef.child(doc.id + '.jpg');\n\n\n        let task = ref.put(file);\n\n        task.on('state_changed', (snapshot) => {\n\n        }, (err) => {\n            alert(JSON.stringify(err))\n        }, () => {\n            doc.imagen = ref.getDownloadURL().then(url => {\n                \n                coupon.imagen = url;\n                doc.set(coupon)\n            });\n            \n        \n        })\n\n        \n    }\n\n    render(){\n\n        if(!this.state.check)\n            return <div className = \"container\"/>\n        if(!this.state.auth)\n            return <Redirect to = {{pathname: \"/\"}}/>\n        return(\n\n            <div>\n\n                \n\n                <NavBar logOut = {this.logOut} to = {'/cupones'}/>\n\n                \n\n                <div className = \"container-fluid mt-2\">\n                    <div className = \"container-fluid row mt-4 mb-4\">\n                        <div className=\"dropdown mr-2\">\n                            <button className=\"text-dropdown btn btn-secondary dropdown-toggle btn-dropdown\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                {this.state.citySelected}\n                            </button>\n                            <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n\n                                {this.state.cities.map((city) => {\n                                    return(\n                                        <a className=\"dropdown-item\" onClick = {() => {\n                                            this.setState({citySelected: city.nombre}, () => {this.filter()})\n                                            \n                                        }}>{city.nombre}</a>\n                                    )\n                                })}\n                            </div>\n                        </div>\n\n                        <div className=\"dropdown mr-2\">\n                            <button className=\"text-dropdown btn btn-secondary dropdown-toggle btn-dropdown\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                {this.state.shopSelected}\n                            </button>\n                            <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n\n                                {this.state.shops.map((shop) => {\n                                    return(\n                                        <a className=\"dropdown-item\" onClick = {() => {\n                                            this.setState({shopSelected: shop.nombre}, () => {this.filter()})\n                                            \n                                        }}>{shop.nombre}</a>\n                                    )\n                                })}\n                            </div>\n                        </div>\n\n                        <div className=\"dropdown mr-2\">\n                            <button className=\"text-dropdown btn btn-secondary dropdown-toggle btn-dropdown\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                {this.state.disponibility}\n                            </button>\n                            <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                            <a className=\"dropdown-item\" onClick = {() => {this.setState({disponibility: 'Todos'}, () => {this.filter()})}}>Todos</a>\n                            <a className=\"dropdown-item\" onClick = {() => {this.setState({disponibility: 'Disponibles'}, () => {this.filter()})}}>Disponibles</a>\n                            <a className=\"dropdown-item\" onClick = {() => {this.setState({disponibility: 'No disponibles'}, () => {this.filter()})}}>No disponibles</a>\n                            </div>\n                        </div>\n\n                    </div>\n\n                    <div class = \"row container-fluid\">\n                        <button className=\"float-right text-dropdown btn btn-secondary btn-dropdown mb-2\" data-toggle=\"modal\" data-target=\"#exampleModal\"\n                            onClick = {() => {this.setState({showModal: !this.state.showModal, isError: false})}}>\n                                Agregar cupón\n                        </button>\n                    </div>\n\n                    {\n                        this.state.isError ? \n                        <div class = \"container-fluid\">\n                            <div class=\"row alert alert-danger\" role=\"alert\">\n                                {this.state.error}\n                            </div>\n                        </div>\n                        : null\n                    }\n\n                    <Modal addCoupon = {this.addCoupon}/>\n\n                    <table className=\"table table-light\">\n                        <thead className=\"thead-light\">\n                            <tr>\n\n                            <th scope=\"col\">QR</th>\n                            <th scope=\"col\">Imagen</th>\n                            <th scope=\"col\">Nombre</th>\n                            <th scope=\"col\">Descripción</th>\n                            <th scope=\"col\">Inicio</th>\n                            <th scope=\"col\">Fin</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {this.state.coupons.map((coupon, index) => {\n                                return (\n                                    <tr>\n                                        <th scope=\"row\"><QRCode size = {100} value={coupon.id} /></th>\n                                        <td><img src = {coupon.imagen} className = \"imagen_coupon\"/></td>\n                                        <td>{coupon.nombre}</td>\n                                        <td>{coupon.descripcion}</td>\n                                        <td>{new Date(coupon.inicio.seconds * 1000).toDateString()}</td>\n                                        <td>{new Date(coupon.fin.seconds * 1000).toDateString()}</td>\n                                    </tr>\n                                )\n                            })}\n                            \n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Cupones;","import React, {Component} from 'react'\n\nclass Cupon extends Component{\n    render(){\n        return(\n            <div>\n                cupon\n            </div>\n        )\n    }\n}\n\nexport default Cupon;","import React, {Component} from 'react'\n\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './Modal.css'\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\nimport DateTimePicker from 'react-datetime-picker'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\n\nclass Modal extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            city: {\n                nombre: ''\n            }\n        }\n    }\n\n    validar(){\n        let city = this.state.city;\n\n        if(city.nombre.trim() == ''){\n            return false;\n        }\n        \n        this.setState()\n\n        return true;\n    }\n\n    render(){\n        return(\n          \n         \n            \n            <div className=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\" role=\"document\">\n                <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Agregar ciudad</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div className=\"modal-body\">\n                        <form>\n                            <div className=\"form-group\">\n                                <label for=\"nombre\">Nombre</label>\n                                <input value = {this.state.city.nombre} type=\"text\" className=\"form-control\" id=\"nombre\" aria-describedby=\"emailHelp\" placeholder=\"Nombre de la ciudad\"\n                                onChange = {(event) => {\n                                    let city = this.state.city;\n                                    city.nombre = event.target.value;\n                                    this.setState({city})\n                                }}/>\n                            </div>\n                        </form>   \n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\n                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick = {() => {\n                        if(this.validar()){\n                            this.props.addCity(this.state.city, 0);\n                            this.setState({city: {nombre: ''}})\n                        }else{\n                            this.props.addCity(this.state.city, 1);\n                            this.setState({city: {nombre: ''}})\n                        }\n                    }}>Agregar ciudad</button>\n                </div>\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default Modal;","import React, {Component} from 'react'\n\nimport './Ciudades.css'\nimport NavBar from '../navBar/NavBar'\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap';\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\n\nimport ModalAddCity from '../modal/ModalAddCity'\n\nimport QRCode from 'qrcode.react';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\n\nclass Ciudades extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            isError: false,\n            error: '',\n            auth: false,\n            check: false,\n            cities: [],\n            citySelected: '',\n            disponibility: 'Todos',\n            shops: [],\n            shopSelected: '',\n            branches: [],\n            branchSelected: '',\n            coupons: [],\n            showModal: false\n        }\n\n    }\n\n    componentWillMount(){\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.setState({auth: true}, () => {\n                    this.setState({check: true})\n                })\n            }else{\n                this.setState({auth: false}, () => {\n                    this.setState({check: true})\n                })\n            }\n        });\n\n        db.collection('ciudades').orderBy('nombre').onSnapshot((querySnapshot) => {\n            var cities = [];\n            querySnapshot.forEach((doc) => {\n                cities.push(doc.data());\n            });\n\n            this.setState({cities})\n\n        }, err => {\n            this.setState({isError: true, error: err})\n        })\n    }\n\n    logOut = () => {\n        firebase.auth().signOut().then(() => {\n          }).catch(function(error) {\n            \n          });\n    }\n\n    addCity = (city, err) => {\n\n        if(err){\n            this.setState({isError: true, error: 'El nombre no puede estar vacío'})\n            return\n        }\n\n        db.collection('ciudades').add(city)\n    }\n\n    render(){\n\n        if(!this.state.check)\n            return <div className = \"container\"/>\n        if(!this.state.auth)\n            return <Redirect to = {{pathname: \"/\"}}/>\n        return(\n\n            <div>\n                <NavBar logOut = {this.logOut} to = {'/ciudades'}/>\n                <div className = \"container-fluid mt-2\">\n\n                    <div class = \"row container-fluid\">\n                        <button className=\"float-right text-dropdown btn btn-secondary btn-dropdown mb-2\" data-toggle=\"modal\" data-target=\"#exampleModal\"\n                            onClick = {() => {this.setState({showModal: !this.state.showModal, isError: false})}}>\n                                Agregar Ciudad\n                        </button>\n                    </div>\n\n                    {\n                        this.state.isError ? \n                        <div class = \"container-fluid\">\n                            <div class=\"row alert alert-danger\" role=\"alert\">\n                                {this.state.error}\n                            </div>\n                        </div>\n                        : null\n                    }\n\n                    <ModalAddCity addCity = {this.addCity}/>\n\n                    <table className=\"table table-light\">\n                        <thead className=\"thead-light\">\n                            <tr>\n                                <th scope=\"col\">Nombre</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {this.state.cities.map((city, index) => {\n                                return (\n                                    <tr>\n                                        <td>{city.nombre}</td>\n                                    </tr>\n                                )\n                            })}\n                            \n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Ciudades;","import React, {Component} from 'react'\n\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './Modal.css'\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\nimport DateTimePicker from 'react-datetime-picker'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\n\nclass ModalAddShop extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            shop: {\n                nombre: ''\n            }\n        }\n    }\n\n    validar(){\n        let shop = this.state.shop;\n\n        if(shop.nombre.trim() == ''){\n            return false;\n        }\n        \n        this.setState()\n\n        return true;\n    }\n\n    render(){\n        return(\n          \n         \n            \n            <div className=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\" role=\"document\">\n                <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Agregar tienda</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div className=\"modal-body\">\n                        <form>\n                            <div className=\"form-group\">\n                                <label for=\"nombre\">Nombre</label>\n                                <input value = {this.state.shop.nombre} type=\"text\" className=\"form-control\" id=\"nombre\" aria-describedby=\"emailHelp\" placeholder=\"Nombre de la tienda\"\n                                onChange = {(event) => {\n                                    let shop = this.state.shop;\n                                    shop.nombre = event.target.value;\n                                    this.setState({shop})\n                                }}/>\n                            </div>\n                        </form>   \n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\n                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick = {() => {\n                        if(this.validar()){\n                            this.props.addShop(this.state.shop, 0);\n                            this.setState({shop: {nombre: ''}})\n                        }else{\n                            this.props.addShop(this.state.shop, 1);\n                        }\n                    }}>Agregar tienda</button>\n                </div>\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default ModalAddShop;","import React, {Component} from 'react'\n\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './Modal.css'\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\nimport DateTimePicker from 'react-datetime-picker'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\n\nclass ModalAddBranch extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            branch: {\n                direccion: '',\n                latitude: '',\n                longitude: ''\n            }\n        }\n    }\n\n    validar(){\n        let branch = this.state.branch;\n\n        if(branch.direccion.trim() == '' || branch.latitude.trim() == '' || branch.longitude.trim() == ''){\n            alert(branch.direccion + ' ' + branch.latitude + ' ' + branch.longitude)\n            return false;\n        }\n\n        return true;\n    }\n\n    render(){\n        return(\n          \n         \n            \n            <div className=\"modal fade\" id=\"exampleModal2\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\" role=\"document\">\n                <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Agregar sucursal</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div className=\"modal-body\">\n                        <form>\n                            <div className=\"form-group\">\n                                <label for=\"nombre\">Dirección</label>\n                                <input value = {this.state.branch.direccion} type=\"text\" className=\"form-control\" id=\"nombre\" aria-describedby=\"emailHelp\" placeholder=\"Dirección de la sucursal\"\n                                onChange = {(event) => {\n                                    let branch = this.state.branch;\n                                    branch.direccion = event.target.value;\n                                    this.setState({branch})\n                                }}/>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label for=\"latitude\">Latitud</label>\n                                <input value = {this.state.branch.latitude} type=\"number\" className=\"form-control\" id=\"latitude\" aria-describedby=\"emailHelp\" placeholder=\"Latitud de la coordenada\"\n                                onChange = {(event) => {\n                                    let branch = this.state.branch;\n                                    branch.latitude = event.target.value;\n                                    this.setState({branch})\n                                }}/>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label for=\"longitude\">Longitud</label>\n                                <input value = {this.state.branch.longitude} type=\"number\" className=\"form-control\" id=\"nombre\" aria-describedby=\"emailHelp\" placeholder=\"Longitud de la coordenada\"\n                                onChange = {(event) => {\n                                    let branch = this.state.branch;\n                                    branch.longitude = event.target.value;\n                                    this.setState({branch})\n                                }}/>\n                            </div>\n\n                        </form>   \n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\n                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick = {() => {\n                        if(this.validar()){\n                            this.props.addBranch(this.state.branch, 0);\n                            this.setState({branch: {direccion: '', longitude: '', latitude: ''}})\n                        }else{\n                            this.props.addBranch(this.state.branch, 1);\n                        }\n                    }}>Agregar sucursal</button>\n                </div>\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default ModalAddBranch;","import React, {Component} from 'react'\n\nimport './Tiendas.css'\nimport NavBar from '../navBar/NavBar'\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap';\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\nimport ModalAddShop from '../modal/ModalAddShop'\nimport ModalAddBranch from '../modal/ModalAddBranch'\n\nimport QRCode from 'qrcode.react';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\n\nclass Tiendas extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            isError: false,\n            error: '',\n            auth: false,\n            check: false,\n            cities: [],\n            citySelected: '',\n            citySelectedName: '',\n            disponibility: 'Todos',\n            shops: [],\n            shopSelected: '',\n            shopSelectedName: '',\n            branches: [],\n            branchSelected: '',\n            coupons: [],\n            showModal: false,\n        }\n\n    }\n\n    componentWillMount(){\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.setState({auth: true}, () => {\n                    this.setState({check: true})\n                })\n            }else{\n                this.setState({auth: false}, () => {\n                    this.setState({check: true})\n                })\n            }\n        });\n\n        db.collection('ciudades').orderBy('nombre').onSnapshot((querySnapshot) => {\n            let cities = [];\n            querySnapshot.forEach((doc) => {\n                let city = doc.data();\n                city.id = doc.id;\n                cities.push(city);\n                \n            });\n\n            this.setState({cities})\n\n        })\n\n        db.collection('tiendas').orderBy('nombre').onSnapshot((querySnapshot) => {\n            var shops = [];\n            querySnapshot.forEach((doc) => {\n                let shop = doc.data();\n                shop.id = doc.id;\n                shops.push(shop);\n                \n            });\n\n            this.setState({shops})\n\n        }, err => {\n            this.setState({isError: true, error: err})\n        })\n    }\n\n    loadBranches = (shopSelected) => {\n        db.collection('tiendas').doc(shopSelected).collection('sucursales').orderBy('direccion').onSnapshot((querySnapshot) => {\n            var branches = [];\n            querySnapshot.forEach((doc) => {\n                let branch = doc.data();\n                branch.id = doc.id;\n                branches.push(branch);\n                \n            });\n\n            this.setState({branches})\n\n        }, err => {\n            this.setState({isError: true, error: err})\n        })\n    }\n\n    logOut = () => {\n        firebase.auth().signOut().then(() => {\n          }).catch(function(error) {\n            \n          });\n    }\n\n    addShop = (shop, err) => {\n\n        if(err){\n            this.setState({isError: true, error: 'No pueden existir datos vacíos'})\n            return\n        }\n\n        db.collection('tiendas').add(shop)\n    }\n\n    addBranch = (branch, err) => {\n        if(err){\n            this.setState({isError: true, error: 'No pueden existir datos vacíos'})\n            return\n        }\n\n        if(this.state.shopSelected.trim() == '' || this.state.citySelected.trim() == ''){\n            this.setState({isError: true, error: 'Seleccione primero la ciudad y la tienda'})\n            return;\n        }\n\n        if(parseFloat(branch.latitude) < -90 || parseFloat(branch.latitude) > 90){\n            this.setState({isError: true, error: 'Ingrese una latitud válida'})\n            return;\n        }\n\n        if(parseFloat(branch.longitude) < -90 || parseFloat(branch.longitude) > 90){\n            this.setState({isError: true, error: 'Ingrese una longitud válida'})\n            return;\n        }\n\n        let newBranch = {\n            tienda: this.state.shopSelectedName,\n            ciudad: this.state.citySelectedName,\n            direccion: branch.direccion,\n            coordenadas: new firebase.firestore.GeoPoint(parseFloat(branch.latitude), parseFloat(branch.longitude))\n        }\n\n        db.collection('tiendas').doc(this.state.shopSelected).collection('sucursales').add(newBranch)\n    }\n\n    render(){\n\n        if(!this.state.check)\n            return <div className = \"container\"/>\n        if(!this.state.auth)\n            return <Redirect to = {{pathname: \"/\"}}/>\n        return(\n\n            <div>\n                <NavBar logOut = {this.logOut} to = {'/ciudades'}/>\n                <div className = \"container-fluid mt-2\">\n\n                    {\n                        this.state.isError ? \n                        <div class = \"container-fluid\">\n                            <div class=\"row alert alert-danger\" role=\"alert\">\n                                {this.state.error}\n                            </div>\n                        </div>\n                        : null\n                    }\n\n                    <div class = \"row\">\n\n                        <div class = \"col-4\">\n                            <div class = \"row container-fluid\">\n                                <h2 class = \"text-white\">Ciudades</h2>\n                            </div>\n\n                            <table className=\"table table-light\">\n                                <thead className=\"thead-light\">\n                                    <tr>\n                                        <th scope=\"col\">Nombre</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {this.state.cities.map((city, index) => {\n                                        return (\n                                                <tr>\n                                                    <button\n                                                        class = \"btn-block btn\" onClick = {() => {this.setState({citySelected: city.id, citySelectedName: city.nombre})}}>\n                                                        <td>{city.nombre}</td>\n                                                    </button>\n                                                </tr>\n                                        )\n                                    })}\n                                    \n                                </tbody>\n                            </table>\n                        </div>\n\n                        <div class = \"col-4\">\n                            <div class = \"row container-fluid\">\n                                <button className=\"float-right text-dropdown btn btn-secondary btn-dropdown mb-2\" data-toggle=\"modal\" data-target=\"#exampleModal\"\n                                    onClick = {() => {this.setState({showModal: !this.state.showModal, isError: false})}}>\n                                        Agregar tienda\n                                </button>\n                            </div>\n\n                            <ModalAddShop addShop = {this.addShop}/>\n\n                            <table className=\"table table-light\">\n                                <thead className=\"thead-light\">\n                                    <tr>\n                                        <th scope=\"col\">Nombre</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {this.state.shops.map((shop, index) => {\n                                        return (\n                                            \n                                                <tr>\n                                                    <button\n                                                        class = \"btn-block btn\" onClick = {() => {this.loadBranches(shop.id); this.setState({shopSelected: shop.id, shopSelectedName: shop.nombre})}}>\n                                                        <td>{shop.nombre}</td>\n                                                    </button>\n                                                </tr>\n                                        )\n                                    })}\n                                    \n                                </tbody>\n                            </table>\n                        </div>\n                        <div class = \"col-4\">\n                            <div class = \"row container-fluid\">\n                                <button className=\"float-right text-dropdown btn btn-secondary btn-dropdown mb-2\" data-toggle=\"modal\" data-target=\"#exampleModal2\"\n                                    onClick = {() => {this.setState({showModal: !this.state.showModal, isError: false})}}>\n                                        Agregar sucursal\n                                </button>\n\n                                {this.state.shopSelectedName != '' && this.state.citySelectedName != '' ? <p class = \"text-white\" style = {{marginLeft: 10}}>Sucursales de {this.state.shopSelectedName} de {this.state.citySelectedName}</p>\n                                : <p class = \"text-white\" >Seleccione una ciudad y una tienda </p> }\n\n                            </div>\n\n                            <ModalAddBranch addBranch = {this.addBranch}/>\n\n                            <table className=\"table table-light\">\n                                <thead className=\"thead-light\">\n                                    <tr>\n                                        <th scope=\"col\">Direccion</th>\n                                        <th scope=\"col\">Latitud</th>\n                                        <th scope=\"col\">Longitud</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {this.state.branches.map((branch, index) => {\n                                        return (\n                                            <tr>\n                                                <td>{branch.direccion}</td>\n                                                <td>{branch.coordenadas.latitude}</td>\n                                                <td>{branch.coordenadas.longitude}</td>\n\n                                            </tr>\n                                        )\n                                    })}\n                                    \n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Tiendas;","import React, {Component} from 'react'\n\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './Modal.css'\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\nimport DateTimePicker from 'react-datetime-picker'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\n\nclass Modal extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            city: {\n                nombre: ''\n            }\n        }\n    }\n\n    validar(){\n        let city = this.state.city;\n\n        if(city.nombre.trim() == ''){\n            return false;\n        }\n        \n        this.setState()\n\n        return true;\n    }\n\n    render(){\n        return(\n          \n         \n            \n            <div className=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\" role=\"document\">\n                <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Agregar categoría</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div className=\"modal-body\">\n                        <form>\n                            <div className=\"form-group\">\n                                <label for=\"nombre\">Nombre</label>\n                                <input value = {this.state.city.nombre} type=\"text\" className=\"form-control\" id=\"nombre\" aria-describedby=\"emailHelp\" placeholder=\"Nombre de la categoría\"\n                                onChange = {(event) => {\n                                    let city = this.state.city;\n                                    city.nombre = event.target.value;\n                                    this.setState({city})\n                                }}/>\n                            </div>\n                        </form>   \n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\n                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick = {() => {\n                        if(this.validar()){\n                            this.props.addCategory(this.state.city, 0);\n                            this.setState({city: {nombre: ''}})\n                        }else{\n                            this.props.addCategory(this.state.city, 1);\n                            this.setState({city: {nombre: ''}})\n                        }\n                    }}>Agregar categoría</button>\n                </div>\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default Modal;","import React, {Component} from 'react'\n\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './Modal.css'\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\nimport DateTimePicker from 'react-datetime-picker'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\n\nclass ModalAddSubCategory extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            city: {\n                nombre: ''\n            }\n        }\n    }\n\n    validar(){\n        let city = this.state.city;\n\n        if(city.nombre.trim() == ''){\n            return false;\n        }\n        \n        this.setState()\n\n        return true;\n    }\n\n    render(){\n        return(\n            <div className=\"modal fade\" id=\"exampleModal2\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\" role=\"document\">\n                <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Agregar subcategoría</h5>\n                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                </div>\n                <div className=\"modal-body\">\n                        <form>\n                            <div className=\"form-group\">\n                                <label for=\"nombre\">Nombre</label>\n                                <input value = {this.state.city.nombre} type=\"text\" className=\"form-control\" id=\"nombre\" aria-describedby=\"emailHelp\" placeholder=\"Nombre de la subcategoría\"\n                                onChange = {(event) => {\n                                    let city = this.state.city;\n                                    city.nombre = event.target.value;\n                                    this.setState({city})\n                                }}/>\n                            </div>\n                        </form>   \n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancelar</button>\n                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick = {() => {\n                        if(this.validar()){\n                            this.props.addSubCategory(this.state.city, 0);\n                            this.setState({city: {nombre: ''}})\n                        }else{\n                            this.props.addSubCategory(this.state.city, 1);\n                            this.setState({city: {nombre: ''}})\n                        }\n                    }}>Agregar subcategoría</button>\n                </div>\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default ModalAddSubCategory;","import React, {Component} from 'react'\n\nimport './Categorias.css'\nimport NavBar from '../navBar/NavBar'\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap';\nimport {\n    Redirect,\n} from \"react-router-dom\";\n\nimport * as firebase from 'firebase/firebase'\nimport 'firebase/firestore'\n\nimport ModalAddCategory from '../modal/ModalAddCategory'\nimport ModalAddSubCategory from '../modal/ModalAddSubCategory'\n\nimport QRCode from 'qrcode.react';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyCRga2DutNQTlXRx4dTddlLihb6-yBjZRA\",\n    authDomain: \"gangazos-28ba9.firebaseapp.com\",\n    databaseURL: \"https://gangazos-28ba9.firebaseio.com\",\n    projectId: \"gangazos-28ba9\",\n    storageBucket: \"gangazos-28ba9.appspot.com\",\n    messagingSenderId: \"563772293434\",\n    appId: \"1:563772293434:web:ef161d90bd29f52f\"\n  };\nif(!firebase.apps.length)\n    firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\n\nclass Categorias extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            isError: false,\n            error: '',\n            auth: false,\n            check: false,\n            cities: [],\n            citySelected: '',\n            disponibility: 'Todos',\n            shops: [],\n            shopSelected: '',\n            branches: [],\n            branchSelected: '',\n            coupons: [],\n            showModal: false,\n            categories: [],\n            subCategories: [],\n            categorySelected: ''\n        }\n\n    }\n\n    componentWillMount(){\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.setState({auth: true}, () => {\n                    this.setState({check: true})\n                })\n            }else{\n                this.setState({auth: false}, () => {\n                    this.setState({check: true})\n                })\n            }\n        });\n\n        db.collection('categorias').orderBy('nombre').onSnapshot((querySnapshot) => {\n            var categories = [];\n            querySnapshot.forEach((doc) => {\n                let category = doc.data();\n                category.id = doc.id;\n                categories.push(category);\n                \n            });\n\n            this.setState({categories})\n\n        }, err => {\n            this.setState({isError: true, error: err})\n        })\n    }\n\n    loadSubCategories = (categorySelected) => {\n        db.collection('categorias').doc(categorySelected).collection('subcategorias').orderBy('nombre').onSnapshot((querySnapshot) => {\n            var subCategories = [];\n            querySnapshot.forEach((doc) => {\n                let category = doc.data();\n                category.id = doc.id;\n                subCategories.push(category);\n                \n            });\n\n            this.setState({subCategories: subCategories})\n\n        }, err => {\n            this.setState({isError: true, error: err})\n        })\n    }\n\n    logOut = () => {\n        firebase.auth().signOut().then(() => {\n          }).catch(function(error) {\n            \n          });\n    }\n\n    addCategory = (category, err) => {\n\n        if(err){\n            this.setState({isError: true, error: 'El nombre no puede estar vacío'})\n            return\n        }\n\n        db.collection('categorias').add(category)\n    }\n\n    addSubCategory = (subCategory, err) => {\n\n        if(err){\n            this.setState({isError: true, error: 'El nombre no puede estar vacío'})\n            return\n        }\n\n        if(this.state.categorySelected == ''){\n            this.setState({isError: true, error: 'Seleccione primero una categoría'})\n            return;\n        }\n\n        db.collection('categorias').doc(this.state.categorySelected).collection('subcategorias').add(subCategory)\n    }\n\n    render(){\n\n        if(!this.state.check)\n            return <div className = \"container\"/>\n        if(!this.state.auth)\n            return <Redirect to = {{pathname: \"/\"}}/>\n        return(\n\n            <div>\n                <NavBar logOut = {this.logOut} to = {'/ciudades'}/>\n                <div className = \"container-fluid mt-2\">\n\n                    {\n                        this.state.isError ? \n                        <div class = \"container-fluid\">\n                            <div class=\"row alert alert-danger\" role=\"alert\">\n                                {this.state.error}\n                            </div>\n                        </div>\n                        : null\n                    }\n\n                    <div class = \"row\">\n                        <div class = \"col-6\">\n                            <div class = \"row container-fluid\">\n                                <button className=\"float-right text-dropdown btn btn-secondary btn-dropdown mb-2\" data-toggle=\"modal\" data-target=\"#exampleModal\"\n                                    onClick = {() => {this.setState({showModal: !this.state.showModal, isError: false})}}>\n                                        Agregar categoría\n                                </button>\n                            </div>\n\n                            <ModalAddCategory addCategory = {this.addCategory}/>\n\n                            <table className=\"table table-light\">\n                                <thead className=\"thead-light\">\n                                    <tr>\n                                        <th scope=\"col\">Nombre</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {this.state.categories.map((category, index) => {\n                                        return (\n                                            \n                                                <tr>\n                                                    <button\n                                                        class = \"btn-block btn\" onClick = {() => {this.loadSubCategories(category.id); this.setState({categorySelected: category.id})}}>\n                                                        <td>{category.nombre}</td>\n                                                    </button>\n                                                </tr>\n                                        )\n                                    })}\n                                    \n                                </tbody>\n                            </table>\n                        </div>\n                        <div class = \"col-6\">\n                            <div class = \"row container-fluid\">\n                                <button className=\"float-right text-dropdown btn btn-secondary btn-dropdown mb-2\" data-toggle=\"modal\" data-target=\"#exampleModal2\"\n                                    onClick = {() => {this.setState({showModal: !this.state.showModal, isError: false})}}>\n                                        Agregar subcategoría\n                                </button>\n                            </div>\n\n                            <ModalAddSubCategory addSubCategory = {this.addSubCategory}/>\n\n                            <table className=\"table table-light\">\n                                <thead className=\"thead-light\">\n                                    <tr>\n                                        <th scope=\"col\">Nombre</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {this.state.subCategories.map((category, index) => {\n                                        return (\n                                            <tr>\n                                                <td>{category.nombre}</td>\n                                            </tr>\n                                        )\n                                    })}\n                                    \n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Categorias;","import React, {Component} from 'react';\nimport './App.css';\n\nimport Login from './components/login/Login'\nimport Cupones from './components/cupones/Cupones'\nimport Cupon from './components/cupon/Cupon'\nimport Ciudades from './components/ciudades/Ciudades'\nimport Tiendas from './components/tiendas/Tiendas'\nimport Categorias from './components/categorias/Categorias'\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nclass App extends Component{\n  render() {\n    return (\n      <Router>\n        <Route path=\"/\" exact component={Login} />\n        <Route path=\"/cupones/\" component={Cupones} />\n        <Route path=\"/cupon/\" component={Cupon} />\n        <Route path=\"/ciudades/\" component={Ciudades} />\n        <Route path=\"/tiendas/\" component={Tiendas} />\n        <Route path=\"/categorias/\" component={Categorias} />\n      </Router>\n    );\n  }\n}\n\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/name.57f495f7.png\";"],"sourceRoot":""}